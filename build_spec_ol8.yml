version: 0.1
component: build
timeoutInSeconds: 6600
runAs: root
shell: bash
steps:
  - type: Command
    timeoutInSeconds: 600
    name: "Building HelloWorld"
    command: |
      ls -lart
      echo "hello world!"
      cat ~/.fn/config.yaml
      cat <<EOF >> ~/.fn/config.yaml
      container-enginetype: podman
      current-context: default
      EOF
      cat ~/.fn/config.yaml 
      nslookup pypi.org
      curl google.com
      curl https://pypi.org
      echo "env proxy"
      env | grep -i proxy
      echo "pip proxy"
      pip3 config list
      pip3 config unset global.proxy
      pip3 install Flask
    onFailure:
      - type: Command
        command: |
          echo "Building HelloWorld failed :("
        timeoutInSeconds: 400
        runAs: root
